# 日本酒レコメンド Webアプリ

飲食店で日本酒を選ぶときに便利なWebアプリです。好きな日本酒の銘柄を登録しておくと、メニューの写真をアップロードするだけで、あなたの好みに合ったおすすめの日本酒が提案されます。

## 機能

### 📝 銘柄登録
- フリーワードで好きな日本酒の銘柄を登録
- Gemini AIが銘柄を自動判定し、正確な情報を取得
- 味の傾向（甘口度、酸味、旨味、濃醇度、香り）を自動分析して保存
- localStorage に保存されるため、ブラウザを閉じてもデータが残ります

### 📸 メニュー解析
- 日本酒メニューの写真をアップロード
- Gemini Vision AIがメニューを解析し、記載されている銘柄を検出
- 登録した好みに基づいて、おすすめの日本酒を提案
- 各銘柄の味の傾向を視覚的に表示

### ✨ レコメンド機能
- マッチ度スコア（0-100%）で相性を表示
- おすすめの理由を日本語で説明
- 味の特徴をバーチャートで可視化
- 各銘柄の特徴をタグで表示

## 技術スタック

- **フロントエンド**: React 18 + TypeScript
- **ビルドツール**: Vite
- **AI**: Google Gemini API (gemini-2.0-flash-exp)
  - テキスト解析（銘柄判定・味の分析）
  - 画像解析（メニュー読み取り）
- **ストレージ**: localStorage

## セットアップ

### 1. 依存関係のインストール

```bash
npm install
```

### 2. Gemini APIキーの取得

1. [Google AI Studio](https://aistudio.google.com/app/apikey) にアクセス
2. APIキーを生成
3. `.env` ファイルを作成してAPIキーを設定

```bash
# .env
VITE_GEMINI_API_KEY=your_api_key_here
```

### 3. 開発サーバーの起動

```bash
npm run dev
```

ブラウザで http://localhost:3000 を開いてアプリにアクセスできます。

### 4. 本番ビルド

```bash
npm run build
npm run preview
```

## 使い方

### 初回使用時

1. **銘柄登録タブ (🍶)** を開く
2. 好きな日本酒の銘柄を入力（例：「獺祭」「久保田」「八海山」など）
3. 「登録」ボタンをクリック
4. AIが銘柄を判定し、味の傾向を分析して保存

### メニュー解析

1. **おすすめタブ (📸)** を開く
2. 「画像を選択」ボタンをクリック
3. 日本酒メニューの写真を選択
4. AIが自動的にメニューを解析
5. あなたの好みに合ったおすすめの日本酒が表示されます

### レコメンド結果の見方

- **マッチ度**: あなたの好みとの相性を0-100%で表示
- **おすすめの理由**: なぜこの銘柄がおすすめなのかを説明
- **味の傾向バー**: 甘口度、酸味、旨味、濃醇度、香りを視覚化
- **特徴タグ**: その銘柄の特徴をわかりやすく表示

## プロジェクト構造

```
sake/
├── index.html              # HTMLエントリーポイント
├── vite.config.ts          # Vite設定
├── src/
│   ├── main.tsx            # Reactエントリーポイント
│   ├── App.tsx             # メインアプリコンポーネント
│   ├── index.css           # グローバルスタイル
│   ├── components/         # UIコンポーネント
│   │   ├── RegisterBrand.tsx  # 銘柄登録コンポーネント
│   │   └── RecommendMenu.tsx  # メニュー解析コンポーネント
│   ├── services/           # 外部サービス連携
│   │   ├── gemini.ts       # Gemini API
│   │   └── storage.ts      # localStorage管理
│   └── types/              # TypeScript型定義
│       └── index.ts
├── package.json
└── README.md
```

## 特徴

### レスポンシブデザイン
- スマートフォン、タブレット、PCのすべてのデバイスに対応
- タッチ操作にも最適化

### データの永続化
- localStorage を使用してブラウザにデータを保存
- ページをリロードしてもデータが失われません

### シンプルなUI
- 直感的で使いやすいインターフェース
- タブ切り替えで機能にすぐアクセス

## 注意事項

- Gemini APIの使用には、Google AI Studioでの登録が必要です
- 画像は JPEG/PNG 形式に対応しています
- APIの利用には無料枠がありますが、制限に注意してください
- データはブラウザの localStorage に保存されるため、ブラウザのデータを削除すると消えます

## ライセンス

MIT License

## トラブルシューティング

### API エラー
- `.env` ファイルにAPIキーが正しく設定されているか確認
- Gemini APIの利用制限に達していないか確認
- ブラウザのコンソールでエラーメッセージを確認

### 画像がアップロードできない
- ファイルサイズが大きすぎないか確認（推奨: 5MB以下）
- 対応形式（JPEG, PNG）か確認

### 銘柄が登録できない
- ネットワーク接続を確認
- APIキーが有効か確認
- 銘柄名を変えて試してください
